<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Book - Extension</title>
<meta name="keywords" content=""/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width"/>
<link rel="stylesheet" href="./style.css" media="screen" charset="utf-8">
<script src="../node_modules/vue/dist/vue.min.js"></script>
</head>
<body>
    <div id="app">
        <div id="detail-head">
            <div id="btn-close">
                ×
            </div>
            <div id="detail-mask"></div>
            <div id="detail-head-backgound" class="blur" v-bind:style="{ backgroundImage: 'url('+image+')'}"></div>
            <div id="detail-pic">
                <img v-bind:src="image" width="110px" height="160px"/>
            </div>
            <div id="detail-info">
                <ul>
                    <li>
                        作者: {{authors()}}
                    </li>
                    <li>
                        出版社: {{publisher}}
                    </li>
                    <li>
                        副标题: {{subtitle}}
                    </li>
                    <li>
                        出版年: {{pubdate}}
                    </li>
                    <li>
                        页数: {{pages}}
                    </li>
                    <li>
                        译者: {{translators()}}
                    </li>
                </ul>
            </div>
        </div>
        <p id="detail-tab">
            <span>简介</span>
            <span>笔记</span>
        </>
        <div id="topic">
            <div id="title">{{title}}</div>
            <span class="rating">{{rating}}分</span>
        </div>
        <div id="summary"><!--临界值145个字符，每add一个p 增加22个字符-->
             {{{abstract()}}}
        </div>
    </div>
    <script>
        var card = {
            el:'#app',
            data: {
                image:'https:\/\/img1.doubanio.com\/lpic\/s28342657.jpg',
                author:["[荷] 文森特•梵高","[美]  H. 安娜•苏 \/ 编"],
                publisher:'北京联合出版公司',
                subtitle:'梵高书信、画作、珍贵手稿',
                pubdate:'2016-1',
                translator:["57°N艺术小组"],
                pages:'416',
                title:'梵高手稿',
                rating:'8.0',
                summary:"梵高一生中写过很多信，大多数都是寄给弟弟提奥的，也有不少是写给家人和其他艺术家的，如保罗•高更与埃米尔•伯纳德。梵高一生中也画了很多画，而基本上每一幅都被他在信中用如诗般优美的语言细细描述过。\n【内容简介】\n自学画画的梵高，对自己的不足十分了解，但正如他在信中所言，只要坚持下去"
            },
            methods:{
                translators:function(){
                    return this.translator.join(' / ')
                },
                authors:function(){
                    return this.author.join(' / ')
                },
                abstract :function(){
                    var summary = this.summary
                    if(summary.length>=140) {
                        summary = summary.substr(0,140) + '...'
                    }
                    return "<p>" + summary.replace(/(.*)\n/g,function($0,$1){return $1 + "</p>"})
                }
            }
        }

        new Vue(card)
    </script>
</body>
</html>
